<script>
    const arr = [0, 1, 2, 3, [4, 5, [6, 7, [1, [2, [3]]]]]]
    // flat() 方法会按照一个可指定的深度递归遍历数组，并将所有元素与遍历到的子数组中的元素合并为一个新数组返回。
    // const newArr = new Set(arr.flat(Infinity))
    // console.log(newArr)

    const newArr = [];
    (function flattenArr(items) {
        items.forEach(v => {
            if (Array.isArray(v)) {
                flattenArr(v)
            } else {
                newArr.push(v)
            }
        })
    })(arr);

    console.log(newArr)

    const arr2 = [...new Set(newArr)]
    console.log(arr2)

</script>